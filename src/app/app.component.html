<div class="chat" [class.darkmode]="theme.darkmode()">
  <h3>Chat here to know Nuttakit more <img src="assets/work-in-progress.png"></h3>
  <div class="chat-content">
    <form [formGroup]="group" (ngSubmit)="sendMessage()">
      <button type="button" (click)="theme.toggle()"><img [src]="theme.darkmode() ? 'assets/day-mode.png' : 'assets/night-mode.png'"></button>
      <input type="text" formControlName="message">
      <button type="submit"><img src="assets/send.png"></button>
    </form>
    <hr>
    <div class="message-section">
      @for (message of chat.allMessages(); track message.timestamp) {
        <div #messages class="message">
          <div class="{{message.type}}">
            <span class="time">{{ message.timestamp | date: 'shortTime' }}</span>
            <span class="text">
              <pre>{{ message.text }}</pre>
            </span>
            <div class="profile-section">
              <img class="profile-img" [src]="profileImg[message.type]">
            </div>
          </div>
        </div>
      }
    </div>
  </div>
</div>
